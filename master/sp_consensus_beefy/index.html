<!DOCTYPE html><html lang="en"><head><link rel="canonical" href="https://paritytech.github.io/polkadot-sdk/master/sp_consensus_beefy/index.html"><meta http-equiv="refresh" content="0;URL='https://paritytech.github.io/polkadot-sdk/master/sp_consensus_beefy/index.html'"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Primitives for BEEFY protocol."><title>sp_consensus_beefy - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="sp_consensus_beefy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../sp_consensus_beefy/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../sp_consensus_beefy/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate sp_consensus_beefy</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 4.0.0-dev</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">sp_consensus_beefy</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/sp_consensus_beefy/lib.rs.html#18-461">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Primitives for BEEFY protocol.</p>
<p>The crate contains shared data types used by BEEFY protocol and documentation (in a form of
code) for building a BEEFY light client.</p>
<p>BEEFY is a gadget that runs alongside another finality gadget (for instance GRANDPA).
For simplicity (and the initially intended use case) the documentation says GRANDPA in places
where a more abstract “Finality Gadget” term could be used, but there is no reason why BEEFY
wouldn’t run with some other finality scheme.
BEEFY validator set is supposed to be tracking the Finality Gadget validator set, but note that
it will use a different set of keys. For Polkadot use case we plan to use <code>secp256k1</code> for BEEFY,
while GRANDPA uses <code>ed25519</code>.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bls_crypto/index.html" title="mod sp_consensus_beefy::bls_crypto">bls_crypto</a></div><div class="desc docblock-short">BEEFY cryptographic types for BLS crypto</div></li><li><div class="item-name"><a class="mod" href="ecdsa_crypto/index.html" title="mod sp_consensus_beefy::ecdsa_crypto">ecdsa_crypto</a></div><div class="desc docblock-short">BEEFY cryptographic types for ECDSA crypto</div></li><li><div class="item-name"><a class="mod" href="known_payloads/index.html" title="mod sp_consensus_beefy::known_payloads">known_payloads</a></div><div class="desc docblock-short">Registry of all known <a href="type.BeefyPayloadId.html" title="type sp_consensus_beefy::BeefyPayloadId"><code>BeefyPayloadId</code></a>.</div></li><li><div class="item-name"><a class="mod" href="mmr/index.html" title="mod sp_consensus_beefy::mmr">mmr</a></div><div class="desc docblock-short">BEEFY + MMR utilties.</div></li><li><div class="item-name"><a class="mod" href="witness/index.html" title="mod sp_consensus_beefy::witness">witness</a></div><div class="desc docblock-short">Primitives for light, 2-phase interactive verification protocol.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Commitment.html" title="struct sp_consensus_beefy::Commitment">Commitment</a></div><div class="desc docblock-short">A commitment signed by GRANDPA validators as part of BEEFY protocol.</div></li><li><div class="item-name"><a class="struct" href="struct.EquivocationProof.html" title="struct sp_consensus_beefy::EquivocationProof">EquivocationProof</a></div><div class="desc docblock-short">Proof of voter misbehavior on a given set id. Misbehavior/equivocation in
BEEFY happens when a voter votes on the same round/block for different payloads.
Proving is achieved by collecting the signed commitments of conflicting votes.</div></li><li><div class="item-name"><a class="struct" href="struct.KeyringIter.html" title="struct sp_consensus_beefy::KeyringIter">KeyringIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="struct.KeyringIter.html" title="struct sp_consensus_beefy::KeyringIter">Self</a></div></li><li><div class="item-name"><a class="struct" href="struct.OpaqueKeyOwnershipProof.html" title="struct sp_consensus_beefy::OpaqueKeyOwnershipProof">OpaqueKeyOwnershipProof</a></div><div class="desc docblock-short">An opaque type used to represent the key ownership proof at the runtime API
boundary. The inner value is an encoded representation of the actual key
ownership proof which will be parameterized when defining the runtime. At
the runtime API boundary this type is unknown and as such we keep this
opaque representation, implementors of the runtime API will have to make
sure that all usages of <code>OpaqueKeyOwnershipProof</code> refer to the same type.</div></li><li><div class="item-name"><a class="struct" href="struct.Payload.html" title="struct sp_consensus_beefy::Payload">Payload</a></div><div class="desc docblock-short">A BEEFY payload type allowing for future extensibility of adding additional kinds of payloads.</div></li><li><div class="item-name"><a class="struct" href="struct.SignedCommitment.html" title="struct sp_consensus_beefy::SignedCommitment">SignedCommitment</a></div><div class="desc docblock-short">A commitment with matching GRANDPA validators’ signatures.</div></li><li><div class="item-name"><a class="struct" href="struct.ValidatorSet.html" title="struct sp_consensus_beefy::ValidatorSet">ValidatorSet</a></div><div class="desc docblock-short">A set of BEEFY authorities, a.k.a. validators.</div></li><li><div class="item-name"><a class="struct" href="struct.VoteMessage.html" title="struct sp_consensus_beefy::VoteMessage">VoteMessage</a></div><div class="desc docblock-short">BEEFY vote message.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ConsensusLog.html" title="enum sp_consensus_beefy::ConsensusLog">ConsensusLog</a></div><div class="desc docblock-short">A consensus log item for BEEFY.</div></li><li><div class="item-name"><a class="enum" href="enum.Keyring.html" title="enum sp_consensus_beefy::Keyring">Keyring</a></div><div class="desc docblock-short">Set of test accounts using <a href="ecdsa_crypto/index.html" title="mod sp_consensus_beefy::ecdsa_crypto"><code>crate::ecdsa_crypto</code></a> types.</div></li><li><div class="item-name"><a class="enum" href="enum.VersionedFinalityProof.html" title="enum sp_consensus_beefy::VersionedFinalityProof">VersionedFinalityProof</a></div><div class="desc docblock-short">A <a href="struct.SignedCommitment.html" title="struct sp_consensus_beefy::SignedCommitment">SignedCommitment</a> with a version number.</div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.BEEFY_ENGINE_ID.html" title="constant sp_consensus_beefy::BEEFY_ENGINE_ID">BEEFY_ENGINE_ID</a></div><div class="desc docblock-short">The <code>ConsensusEngineId</code> of BEEFY.</div></li><li><div class="item-name"><a class="constant" href="constant.GENESIS_AUTHORITY_SET_ID.html" title="constant sp_consensus_beefy::GENESIS_AUTHORITY_SET_ID">GENESIS_AUTHORITY_SET_ID</a></div><div class="desc docblock-short">Authority set id starts with zero at BEEFY pallet genesis.</div></li><li><div class="item-name"><a class="constant" href="constant.KEY_TYPE.html" title="constant sp_consensus_beefy::KEY_TYPE">KEY_TYPE</a></div><div class="desc docblock-short">Key type for BEEFY module.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.BeefyApi.html" title="trait sp_consensus_beefy::BeefyApi">BeefyApi</a></div><div class="desc docblock-short">API necessary for BEEFY voters.</div></li><li><div class="item-name"><a class="trait" href="trait.BeefyAuthorityId.html" title="trait sp_consensus_beefy::BeefyAuthorityId">BeefyAuthorityId</a></div><div class="desc docblock-short">Trait representing BEEFY authority id, including custom signature verification.</div></li><li><div class="item-name"><a class="trait" href="trait.OnNewValidatorSet.html" title="trait sp_consensus_beefy::OnNewValidatorSet">OnNewValidatorSet</a></div><div class="desc docblock-short">New BEEFY validator set notification hook.</div></li><li><div class="item-name"><a class="trait" href="trait.PayloadProvider.html" title="trait sp_consensus_beefy::PayloadProvider">PayloadProvider</a></div><div class="desc docblock-short">Trait for custom BEEFY payload providers.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.check_commitment_signature.html" title="fn sp_consensus_beefy::check_commitment_signature">check_commitment_signature</a></div><div class="desc docblock-short">Check a commitment signature by encoding the commitment and
verifying the provided signature using the expected authority id.</div></li><li><div class="item-name"><a class="fn" href="fn.check_equivocation_proof.html" title="fn sp_consensus_beefy::check_equivocation_proof">check_equivocation_proof</a></div><div class="desc docblock-short">Verifies the equivocation proof by making sure that both votes target
different blocks and that its signatures are valid.</div></li><li><div class="item-name"><a class="fn" href="fn.generate_equivocation_proof.html" title="fn sp_consensus_beefy::generate_equivocation_proof">generate_equivocation_proof</a></div><div class="desc docblock-short">Create a new <code>EquivocationProof</code> based on given arguments.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.AuthorityIndex.html" title="type sp_consensus_beefy::AuthorityIndex">AuthorityIndex</a></div><div class="desc docblock-short">The index of an authority.</div></li><li><div class="item-name"><a class="type" href="type.BeefyPayloadId.html" title="type sp_consensus_beefy::BeefyPayloadId">BeefyPayloadId</a></div><div class="desc docblock-short">Id of different payloads in the <a href="struct.Commitment.html" title="struct sp_consensus_beefy::Commitment"><code>crate::Commitment</code></a> data.</div></li><li><div class="item-name"><a class="type" href="type.MmrHashing.html" title="type sp_consensus_beefy::MmrHashing">MmrHashing</a></div><div class="desc docblock-short">The Hashing used within MMR.</div></li><li><div class="item-name"><a class="type" href="type.MmrRootHash.html" title="type sp_consensus_beefy::MmrRootHash">MmrRootHash</a></div><div class="desc docblock-short">The type used to represent an MMR root hash.</div></li><li><div class="item-name"><a class="type" href="type.ValidatorSetId.html" title="type sp_consensus_beefy::ValidatorSetId">ValidatorSetId</a></div><div class="desc docblock-short">A typedef for validator set id.</div></li></ul></section></div></main></body></html>