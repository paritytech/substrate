# This file is part of .gitlab-ci.yml
# Here are all jobs that are executed during "test" stage

cargo-clippy:
  stage:                           test
  # this is an artificial job dependency, for pipeline optimization using GitLab's DAGs
  variables:
    RUSTY_CACHIER_TOOLCHAIN: nightly
  extends:
    - .docker-env
    - .test-refs
  script:
    - rusty-cachier snapshot create
    - sleep 3600
    - SKIP_WASM_BUILD=1 env -u RUSTFLAGS cargo +nightly clippy --all-targets